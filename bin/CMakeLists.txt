set(PROJECT_DEV_NAME ${PROJECT_NAME}-dev)

add_executable(${PROJECT_DEV_NAME})
target_sources(${PROJECT_DEV_NAME}
  PRIVATE
    ${CMAKE_CURRENT_SOURCE_DIR}/main.cc
    ${CMAKE_CURRENT_SOURCE_DIR}/obj.cc
)
target_link_libraries(${PROJECT_DEV_NAME} PRIVATE ${PROJECT_NAME})

if(WIN32)
  add_custom_command(TARGET ${PROJECT_DEV_NAME}
    POST_BUILD
    COMMAND ${CMAKE_COMMAND} -E copy $<TARGET_RUNTIME_DLLS:${PROJECT_DEV_NAME}> $<TARGET_FILE_DIR:${PROJECT_DEV_NAME}>
    COMMAND_EXPAND_LISTS
  )
endif()
